webpackJsonp([1],{Kt1p:function(e,a){},LBKs:function(e,a){},NHnr:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("7+uW"),r={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},r,!1,function(e){s("gsu9")},null,null).exports,i=s("/ocq"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",[a("p")])}]},l=s("VU/8")(null,o,!1,null,null,null).exports,d=s("Sazm"),c=s.n(d),m=Object(d.initializeApp)({apiKey:"AIzaSyAFwmILHGMUh-k2JbaPgLZRpB215hvNq08",authDomain:"cli-phonebook2.firebaseapp.com",databaseURL:"https://cli-phonebook2.firebaseio.com",projectId:"cli-phonebook2",storageBucket:"cli-phonebook2.appspot.com",messagingSenderId:"28993053688"}).database(),u=m.ref("phones"),v=(m.ref("users"),s("hlPV")),p={name:"Phones",components:{EditPhone:l,TheMask:v.TheMask},data:function(){return{title:"Phonebook",filter:"",phones:[],edit:!1,addedPhone:{name:"",number:""}}},firebase:{phones:u},computed:{allPhones:function(){return this.filteredPhones.length},filteredPhones:function(){var e=this,a=this.currentUser.uid;return this.phones.filter(function(s){return s.name.toLowerCase().includes(e.filter)&&s.userId===a})},currentUser:function(){return c.a.auth().currentUser}},methods:{addPhone:function(){var e=this;this.$validator.validateAll().then(function(a){if(a){var s=e.currentUser.uid;u.push({name:e.addedPhone.name,number:e.addedPhone.number,userId:s,edit:!1}),e.addedPhone.name="",e.addedPhone.number="",e.$validator.reset()}})},editPhone:function(e){u.child(e).update({edit:!0})},removePhone:function(e){u.child(e).remove()},cancelEdit:function(e){u.child(e).update({edit:!1})},saveEdit:function(e){var a=this.currentUser.uid,s=e[".key"];u.child(s).set({name:e.name,number:e.number,userId:a,edit:!1})},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},h={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 right-align logout"},[s("span",[e._v(e._s(e.currentUser.email))]),e._v(" "),s("a",{attrs:{href:"#"},on:{click:e.logout}},[e._v("Logout")])]),e._v(" "),s("div",{staticClass:"row"}),e._v(" "),s("h1",[e._v(e._s(e.title))]),e._v(" "),s("div",{staticClass:"input-field col s6 l5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addedPhone.name,expression:"addedPhone.name"},{name:"validate",rawName:"v-validate",value:"required|min:5|max:40|alpha_spaces",expression:"'required|min:5|max:40|alpha_spaces'"}],attrs:{type:"text",name:"name",id:"phone-name"},domProps:{value:e.addedPhone.name},on:{keydown:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;a.preventDefault(),e.addPhone()},input:function(a){a.target.composing||e.$set(e.addedPhone,"name",a.target.value)}}}),e._v(" "),s("label",{attrs:{for:"phone-name"}},[e._v("Name")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"error"},[e._v(e._s(e.errors.first("name")))])]),e._v(" "),s("div",{staticClass:"input-field col s6 l5"},[s("the-mask",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:19",expression:"'required|min:19'"}],attrs:{type:"text",mask:["+### (##)-###-##-##"],masked:!0,id:"phone-number",name:"number"},on:{keydown:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;a.preventDefault(),e.addPhone()}},model:{value:e.addedPhone.number,callback:function(a){e.$set(e.addedPhone,"number",a)},expression:"addedPhone.number"}}),e._v(" "),s("label",{attrs:{for:"phone-number"}},[e._v("Number")]),e._v(" "),s("div",{staticClass:"error-block"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("number"),expression:"errors.has('number')"}],staticClass:"error"},[e._v(e._s(e.errors.first("number")))])])],1),e._v(" "),s("button",{staticClass:"btn col s12 l2",attrs:{disabled:e.errors.has("name")||e.errors.has("number")},on:{click:function(a){e.addPhone()}}},[e._v("Add Phone")]),e._v(" "),s("div"),e._v(" "),s("EditPhone",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],attrs:{phones:"phones"}}),e._v(" "),s("h6",{staticClass:"col s12 right-align"},[e._v("Phones count: "+e._s(e.allPhones))]),e._v(" "),s("div",{staticClass:"input-field col offset-s7 s5 offset-l9 l3 right-align"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{type:"text",id:"phones-filter"},domProps:{value:e.filter},on:{input:function(a){a.target.composing||(e.filter=a.target.value)}}}),e._v(" "),s("label",{attrs:{for:"phones-filter"}},[e._v("Filter by name")])]),e._v(" "),e.filteredPhones.length?s("div",[s("div",{staticClass:"hide-on-small-only"},[s("table",{staticClass:"highlight centered phones-table"},[e._m(0),e._v(" "),e._l(e.filteredPhones,function(a){return s("tbody",{key:a[".key"]},[a.edit?s("tr",[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"phone.name"},{name:"validate",rawName:"v-validate",value:"required|min:5|max:40",expression:"'required|min:5|max:40'"}],staticClass:"col offset-s3 s8 offset-m1 m10 offset-xl2 xl9 edit-phone",attrs:{type:"text",id:"phone-name",name:"edit-name"},domProps:{value:a.name},on:{input:function(s){s.target.composing||e.$set(a,"name",s.target.value)}}}),e._v(" "),s("div",{staticClass:"col edit-error-block"},[e.errors.has("edit-name")?s("span",{staticClass:"error"},[e._v(e._s(e.errors.first("edit-name")))]):e._e()])]),e._v(" "),s("td",[s("the-mask",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:19",expression:"'required|min:19'"}],staticClass:"col offset-s3 s8 offset-m2 m8 offset-xl3 xl7 edit-phone",attrs:{type:"text",id:"phone-number",name:"edit-number",mask:["+### (##)-###-##-##"],masked:!0},model:{value:a.number,callback:function(s){e.$set(a,"number",s)},expression:"phone.number"}}),e._v(" "),s("div",{staticClass:"edit-error-block"},[e.errors.has("edit-number")?s("span",{staticClass:"error"},[e._v(e._s(e.errors.first("edit-number")))]):e._e()])],1),e._v(" "),s("td",[s("button",{staticClass:"btn-small",attrs:{disabled:e.errors.has("edit-name")||e.errors.has("edit-number")},on:{click:function(s){e.saveEdit(a)}}},[e._v("Save")])]),e._v(" "),s("td",[s("button",{staticClass:"btn-small",on:{click:function(s){e.cancelEdit(a[".key"])}}},[e._v("Cancel")])])]):s("tr",[s("td",[e._v(e._s(a.name))]),e._v(" "),s("td",[e._v(e._s(a.number))]),e._v(" "),s("td",[s("button",{staticClass:"btn-small",on:{click:function(s){e.editPhone(a[".key"])}}},[e._v("Edit")])]),e._v(" "),s("td",[s("button",{staticClass:"btn-small",on:{click:function(s){e.removePhone(a[".key"])}}},[e._v("Remove")])])])])})],2)]),e._v(" "),s("div",{staticClass:"hide-on-med-and-up"},e._l(e.filteredPhones,function(a){return s("div",{key:a[".key"],staticClass:"col s12"},[a.edit?s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"phone.name"},{name:"validate",rawName:"v-validate",value:"required|min:5|max:40",expression:"'required|min:5|max:40'"}],staticClass:"col offset-s3 s6",attrs:{type:"text",id:"phone-name",name:"name"},domProps:{value:a.name},on:{input:function(s){s.target.composing||e.$set(a,"name",s.target.value)}}}),e._v(" "),s("the-mask",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:19",expression:"'required|min:19'"}],staticClass:"col offset-s3 s6",attrs:{type:"text",name:"number",mask:["+### (##)-###-##-##"],masked:!0,id:"phone-number"},model:{value:a.number,callback:function(s){e.$set(a,"number",s)},expression:"phone.number"}})],1)]),e._v(" "),s("div",{staticClass:"card-action"},[s("button",{staticClass:"btn",on:{click:function(s){e.saveEdit(a)}}},[e._v("Save")]),e._v(" "),s("button",{staticClass:"btn",on:{click:function(s){e.cancelEdit(a[".key"])}}},[e._v("Cancel")])])]):s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("span",{staticClass:"card-title"},[e._v(e._s(a.name))]),e._v(" "),s("span",{staticClass:"card-title"},[e._v(e._s(a.number))])]),e._v(" "),s("div",{staticClass:"card-action"},[s("button",{staticClass:"btn",on:{click:function(s){e.editPhone(a[".key"])}}},[e._v("Edit")]),e._v(" "),s("button",{staticClass:"btn",on:{click:function(s){e.removePhone(a[".key"])}}},[e._v("Remove")])])])])}))]):s("div",[s("p",{staticClass:"col offset-s4 s4 not-found"},[e._v("Phones not found")])])],1)},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"35%"}},[this._v("Name")]),this._v(" "),a("th",{attrs:{width:"35%"}},[this._v("Number")]),this._v(" "),a("th",{attrs:{width:"30%",colspan:"2"}},[this._v("Action")])])])}]};var f=s("VU/8")(p,h,!1,function(e){s("sX3Z")},"data-v-6d0e3e4b",null).exports,_={name:"login",data:function(){return{email:"",password:"",message:"",hasError:!1}},methods:{signIn:function(){var e=this;e.message="",e.hasError=!1,c.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(a){e.hasError=!1,e.email="",e.password="",e.$validator.reset(),console.log("Logged in!"),e.$router.replace("phones")},function(a){console.log("Error!!! "+a.message),e.hasError=!0,e.message=a.message})}}},b={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"row"},[s("h3",[e._v("Sign In")]),e._v(" "),s("div",{staticClass:"col s12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col offset-s3 s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|min:10|max:50|email",expression:"'required|min:10|max:50|email'"}],staticClass:"validate",attrs:{type:"email",name:"email",id:"user-email"},domProps:{value:e.email},on:{input:function(a){a.target.composing||(e.email=a.target.value)}}}),e._v(" "),s("label",{attrs:{for:"user-email"}},[e._v("Email")]),e._v(" "),s("div",{staticClass:"error-block"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"error"},[e._v(e._s(e.errors.first("email")))])])]),e._v(" "),s("div",{staticClass:"input-field col offset-s3 s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:9|max:30",expression:"'required|min:9|max:30'"}],staticClass:"validate",attrs:{type:"password",name:"password",id:"user-password"},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}}),e._v(" "),s("label",{attrs:{for:"user-password"}},[e._v("Password")]),e._v(" "),s("div",{staticClass:"error-block"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"error"},[e._v(e._s(e.errors.first("password")))])])])]),e._v(" "),s("div",{staticClass:"row"},[s("button",{staticClass:"btn",on:{click:e.signIn}},[e._v("Enter")])]),e._v(" "),s("span",[e._v("or create new "),s("router-link",{attrs:{to:"/sign-up"}},[e._v("account")]),e._v(".")],1)])])},staticRenderFns:[]};var w=s("VU/8")(_,b,!1,function(e){s("Kt1p")},"data-v-89a66b42",null).exports,g={name:"signUp",data:function(){return{email:"",password:"",message:"",hasError:!1}},methods:{signUp:function(){var e=this;e.message="",e.hasError=!1,c.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(a){e.message="Accout created successfully!",e.hasError=!1,e.email="",e.password="",e.$validator.reset(),e.$router.replace("phones")},function(a){console.log("Error!!!"+a.message),e.hasError=!0,e.message=a.message})}}},C={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"row"},[s("h3",[e._v("Sign Up")]),e._v(" "),s("div",{staticClass:"col s12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col offset-s3 s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|min:10|max:50|email",expression:"'required|min:10|max:50|email'"}],staticClass:"validate",attrs:{type:"email",name:"email",id:"user-email"},domProps:{value:e.email},on:{input:function(a){a.target.composing||(e.email=a.target.value)}}}),e._v(" "),s("label",{attrs:{for:"user-email"}},[e._v("Email")]),e._v(" "),s("div",{staticClass:"error-block"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"error"},[e._v(e._s(e.errors.first("email")))])])]),e._v(" "),s("div",{staticClass:"input-field col offset-s3 s6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:9|max:30",expression:"'required|min:9|max:30'"}],staticClass:"validate",attrs:{type:"password",name:"password",id:"user-password"},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}}),e._v(" "),s("label",{attrs:{for:"user-password"}},[e._v("Password")]),e._v(" "),s("div",{staticClass:"error-block"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"error"},[e._v(e._s(e.errors.first("password")))])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"row"},[s("div",{staticClass:"col offset-s2 s8 error"},[e._v(e._s(e.message))])]),e._v(" "),s("div",{staticClass:"row"},[s("button",{staticClass:"btn",attrs:{disabled:e.errors.any()},on:{click:e.signUp}},[e._v("Sign Up")])]),e._v(" "),s("span",[e._v("or go back to "),s("router-link",{attrs:{to:"/login"}},[e._v("login")])],1)])])},staticRenderFns:[]};var k=s("VU/8")(g,C,!1,function(e){s("LBKs")},"data-v-291f74df",null).exports;t.a.use(i.a);var x=new i.a({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/phones",name:"Phones",component:f,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:w},{path:"/sign-up",name:"SignUp",component:k}]});x.beforeEach(function(e,a,s){var t=c.a.auth().currentUser,r=e.matched.some(function(e){return e.meta.requiresAuth});r&&!t?s("login"):!r&&t?s("phones"):s()});var P=x,E=s("1mcD"),y=s.n(E),N=s("sUu7");t.a.config.productionTip=!1,t.a.use(y.a),t.a.use(N.a);c.a.auth().onAuthStateChanged(function(e){new t.a({el:"#app",router:P,components:{App:n},template:"<App/>"})})},gsu9:function(e,a){},sX3Z:function(e,a){}},["NHnr"]);
//# sourceMappingURL=app.605948fac04d19a83271.js.map